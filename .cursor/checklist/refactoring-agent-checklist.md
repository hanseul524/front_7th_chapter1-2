# 🔧 리팩토링 에이전트 검증 체크리스트

> Purpose: 외부 동작을 유지하면서 가독성·성능·구조를 개선했는지, 테스트 안정성을 해치지 않았는지 검증합니다. (1차 자체 점검 → CEO 승인)

---

## 1️⃣ 요구사항 명확성
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 1-1 | 리팩토링 범위 | 대상 파일/모듈과 비대상 명확화(스코프 크립 방지) | ☐ |
| 1-2 | 목표 정의 | 중복 제거, 명명 개선, 구조화, 성능 개선 등 목적 명시 | ☐ |

---

## 2️⃣ 입력·출력/행동 동일성
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 2-1 | 퍼블릭 API 불변 | 함수 시그니처/반환 타입/훅 반환 객체 불변 | ☐ |
| 2-2 | 테스트 무변경 통과 | 기존 테스트 수정 없이 통과(필요 시 합리적 근거) | ☐ |

---

## 3️⃣ 처리 로직 개선
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 3-1 | 분해/추출 | 50줄 이상 함수 분해, 유틸로 추출, 이름 개선 | ☐ |
| 3-2 | 성능 | 불필요 연산/렌더 제거, useMemo/useCallback 적용 | ☐ |
| 3-3 | 타입 강화 | any 제거, 유니온/인터페이스 명확화 | ☐ |

---

## 4️⃣ 에러/예외·회귀 안전망
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 4-1 | 회귀 테스트 | 영향 영역 테스트 추가/보강 | ☐ |
| 4-2 | 로깅·에러 | 기존 에러 처리 흐름 유지, 메시지 일관 | ☐ |

---

## 5️⃣ 문서·스타일
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 5-1 | JSDoc/주석 | 비자명한 의도/제약 조건만 간결히 문서화 | ☐ |
| 5-2 | ESLint/TS | 경고 0, 엄격 TS, import 순서 준수 | ☐ |

---

## 6️⃣ 맥락·영향
| 번호 | 항목 | 설명 | 점검 |
|------|------|------|------|
| 6-1 | 경계 준수 | 훅/유틸/컴포넌트 경계 유지, 의존 역전 지키기 | ☐ |
| 6-2 | 변경 영향 | 영향 범위/리스크/롤백 계획 기록 | ☐ |

---

## 📎 산출물
- 변경 전/후 요약(목적-효과-영향)
- 영향 범위 회귀 테스트 목록
- 퍼블릭 API 변경 없음 확인 근거

---

## 📚 참고 문서
- `.cursor/docs/tdd-document.md` — Green 상태에서만 리팩토링, Tidy First
- `.cursorrules` — 50줄 제한/중복 제거/명명 규칙/성능·접근성 규칙

## 🧾 제출 지침
- 본 체크리스트로 1차 자체 점검 완료 후 결과 보고서를 다음 경로에 작성:
  - `.cursor/outputs/refactoring-review.md`
- 보고서에는 다음을 포함:
  - 전/후 비교와 각 리팩토링의 의도·효과
  - 회귀 안전성 증빙(테스트 통과 로그)



